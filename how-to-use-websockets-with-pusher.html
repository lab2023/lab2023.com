<!DOCTYPE html>
<html class='no-js' lang='en'>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<title>lab2023 | web & mobile development, graphic design company - How To Use WebSockets With Pusher
</title>
<meta content='Designers and developers for hire' name='description'>
<meta content='design, ruby, ruby on rails, ios, android, sencha, istanbul, ankara, denizli, turkey' name='keywords'>
<link href="assets/stylesheets/application.css" rel="stylesheet" /><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" /><link href="assets/stylesheets/swiper-bundle.min.css" rel="stylesheet" />
<link href="assets/images/favicon.png" rel="icon" type="image/png" />
<meta content='How To Use WebSockets With Pusher' name='description'>
<meta content='websockets, service, pusher, ruby, javascript, en' name='keywords'>
<meta content='Tayfun Öziş ERİKAN' name='author'>


</head>
<body id='blog'>
<header class='header'>
<div class='container'>
<div class='row'>
<div class='col-lg-2 col-lg-offset-1'>
<a href="/blog"><img class="logo pull-right" width="252" height="253" src="assets/images/logo.png" alt="Logo" />
</a></div>
<div class='col-lg-8'>
<h1>
<a href="/blog">lab2023's blog posts</a>
<a href="http://lab2023.com/feed.xml" target="_blank"><i class='fa fa-rss'></i>
</a></h1>
<div class='row'>
<div class='col-lg-3'>
<p>
<a href="/"><i class='fa fa-arrow-circle-left'></i>
lab2023.com
</a></p>
</div>
<div class='col-lg-9' id='language_linked'>
<p>
<a href="/tag/tr.html">Türkçe
</a>·
<a href="/tag/en.html">English
</a>·
<a href="/tag/es.html">Español
</a>·
<a href="/tag/ru.html">Русский
</a></p>
</div>
</div>
</div>
</div>
</div>
</header>

<!-- share-buttons js code -->
<div id='fb-root'>
<script>
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/tr_TR/all.js#xfbml=1";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
  (function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs'));
</script>
</div>
<div class='container'>
<div class='row'>
<div class='col-lg-2 col-lg-offset-1 article-meta'>
<h4><a href="http://twitter.com/toziserikan" target="_blank">Tayfun Öziş ERİKAN</a></h4>
<h5>April 18, 2014</h5>
<span class='tag'><a href="/tag/websockets.html">websockets</a></span>
<span class='tag'><a href="/tag/service.html"> service</a></span>
<span class='tag'><a href="/tag/pusher.html"> pusher</a></span>
<span class='tag'><a href="/tag/ruby.html"> ruby</a></span>
<span class='tag'><a href="/tag/javascript.html"> javascript</a></span>
<span class='tag'><a href="/tag/en.html"> en</a></span>
<!-- Share buttons -->
<ul class='share_button'>
<li>
<div class='fb-share-button' data-href='http://lab2023.com/how-to-use-websockets-with-pusher.html' data-type='button_count'></div>
</li>
<li>
<a class='twitter-share-button' data-text='http://lab2023.com/how-to-use-websockets-with-pusher.html' data-via='lab2023' href='https://twitter.com/share'></a>
</li>
<li>
<script src='//platform.linkedin.com/in.js' type='text/javascript'>
<![CDATA[
    lang: en_US
]]>
</script>
<script data-url='http://lab2023.com/how-to-use-websockets-with-pusher.html' type='IN/Share'></script>
</li>
</ul>
</div>
<div class='col-lg-8'>
<article class='post'>
<h1>How To Use WebSockets With Pusher</h1>
<p>WebSocket technologies has started to become very popular recently. You can create real-time games, chat services etc.
with using WebSocket. But even it isn&rsquo;t a new technology some browsers doesn&rsquo;t support it.</p>

<p>Instead of  sending periodically AJAX request, you can create a persistent connection between client and server and you
can provide that server send messages to clients by this way clients listens to server asynchronously.</p>

<p>There is a lot of way to user WebSocket connections. You can develop your own WebSocket and you can build libraries
with using browsers native APIs. But if you do this you will need to create different protocols for different browsers.</p>

<p>Thus, there is a lot of SAAS applications which you can integrate more quick and easy. Pusher is one of these services.
I want to introduce this service to you and show how to implement Pusher with Ruby and JavaScript.</p>

<h3 id="pusher-what-provides">Pusher what provides?</h3>

<ul>
<li>Pusher works as a proxy between client and server.</li>
<li>Pusher APIs can used by many server and client side languages such as JavaScript,
Ruby, PHP, Python, Node.js, Java, iOS, Android, Flash etc.</li>
<li>If you are work in browser that doesn&rsquo;t support WebSocket, Pusher automatically gets activated Flash-based version.
In this way, Pusher will work good for old generation web browsers.</li>
<li>If you don&rsquo;t use only WebSocket communication, Pusher give good RESTful API for you.</li>
</ul>

<h3 id="how-to-use-pusher">How to use Pusher?</h3>

<p>First you must create a new <a href="https://app.pusherapp.com/accounts/sign_up">Pusher Account</a>
Then the service will ask you to create an App and after you create App you can take API Keys.</p>

<p>The following lines allow client enables connected the specified channel.</p>
<div class="highlight"><pre class="highlight html"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Pusher Test<span class="nt">&lt;/title&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://js.pusher.com/2.2/pusher.min.js"</span> <span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
    <span class="kd">var</span> <span class="nx">pusher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Pusher</span><span class="p">(</span><span class="s1">'your_api_key'</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">pusher</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">'test_channel'</span><span class="p">);</span>
  <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</code></pre></div>
<p>To listen for incoming messages&hellip;</p>
<div class="highlight"><pre class="highlight javascript"><code><span class="nx">channel</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">"my-event"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
<span class="p">});</span>
</code></pre></div>
<p>You can use following lines to publish messages by the little ruby server app.
This is a simple Sinatra app. Next step you can save the file name <code>socket-app.rb</code>
and run this command <code>$ ruby socket-app.rb</code> in the console.</p>
<div class="highlight"><pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'sinatra'</span>
<span class="nb">require</span> <span class="s1">'pusher'</span>

<span class="no">Pusher</span><span class="p">.</span><span class="nf">url</span> <span class="o">=</span> <span class="s2">"http://your_api_key:your_secret_key@api.pusherapp.com/apps/your_app_id"</span>

<span class="n">get</span> <span class="s1">'/hi'</span> <span class="k">do</span>
  <span class="no">Pusher</span><span class="p">[</span><span class="s1">'test_channel'</span><span class="p">].</span><span class="nf">trigger</span><span class="p">(</span><span class="s1">'my_event'</span><span class="p">,</span> <span class="p">{</span>
    <span class="ss">message: </span><span class="s1">'hello world'</span>
  <span class="p">})</span>
  <span class="s2">"Success!"</span>
<span class="k">end</span>
</code></pre></div>
<p>That&rsquo;s all.</p>

<p>The Pusher <a href="http://pusher.com/">website</a> provides good documentation, a selection of tutorials for Ruby and JavaScript.</p>

<p>For more information <a href="http://pusher.com/">http://pusher.com/</a></p>

<p>Regards.</p>

<div id='disqus_thread'></div>
<script>
  var disqus_shortname = 'lab2023';
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>
Please enable JavaScript to view the
<a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
</noscript>
<a class='dsq-brlink' href='http://disqus.com'>
comments powered by
<span class='logo-disqus'>Disqus</span>
</a>
</article>
</div>
</div>
</div>
<footer class='footer'>
<h4>© 2009 ~ 2020 LAB2023, CORP.</h4>
<p>The all designs, materials and contents trademarks of lab2023, corp.</p>
</footer>

</body>
<!-- Javascripts -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"></script><script src="assets/javascripts/vendor/swiper-bundle.min.js"></script><script src="assets/javascripts/application.js"></script>
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12243799-3']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


</html>
